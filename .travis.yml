# To create a release
#   git checkout master
#   git pull
# modify version number in package.json in master branch
#   git checkout -b deploy
#   git pull
#   git rebase origin/master
#   git commit -a -m "Release"
#   git push
#   git checkout master

language: generic
os: linux
dist: xenial

jobs:
  include:
    - os: linux
      language: node_js
      node_js: "6.16"
      python: "2.7"
      branches:
         only: master

    - os: windows
      language: node_js
      node_js: "8.11.3"
      python: "2.7"
      branches:
        only: master

    - os: osx
      language: node_js
      node_js: "6.16"
      python: "2.7"
      branches:
        only: master

# npm cache clean is b/c sometimes most recent master
# is not pulled by travis when npm install is executed.
# Not sure if it works.
before_install:
  - npm install
  - npm cache clean --force

script:
  - npm test

notifications:
  email:
    recipients:
      - ksreddy9945@gmail.com
      - rweigel@gmu.edu
  on_success: change
  on_failure: always
