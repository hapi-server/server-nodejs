<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>README</title>
  <link id="favicon" rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%220.9em%22 font-size=%22100%22>ðŸ“–</text></svg>">
  <link id="hljs-css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
  <style>
    #toc>ol ol {
      display: none
    }

    body {
      background-image: url("https://rweigel.github.io/biedit/img/paper.png")
    }

    .body {
      display: flex;
      min-width: 50%;
      max-height: 100%;
      position: absolute;
      background-image: url("https://rweigel.github.io/biedit/img/paper.png");
    }

    #toc {
      flex: 0 1 auto;
      margin-top: 0em;
      margin-right: 1em;
      max-width: 12em;
      overflow: hidden auto;
    }

    #toc .toctext {
      color: darkblue;
    }

    #toc .toctext-empty {
      min-width: 1em;
      border-bottom: 1px solid blue;
    }

    #toc ol {
      margin: 0.25em 0em 0em 0.5em;
      list-style-type: decimal;
      padding-inline-start: 1em;
    }

    #toc a {
      text-decoration: none;
    }

    #display {
      flex: 1 1 80%;
      overflow: hidden auto;
      overflow-wrap: break-word;
    }

    #display .abstract {
      text-align: center;
      font-size: 100%;
      font-weight: bold;
      color: black;
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }

    #display .title {
      text-align: center;
      font-size: 150%;
      font-weight: bold;
      color: black;
      margin-top: 0.2em;
      margin-bottom: 0.2em;
    }

    #display .subtitle {
      text-align: center;
      font-size: 120%;
      font-weight: bold;
      color: black;
      margin-top: 0.2em;
    }

    #display .date {
      text-align: right;
      color: black;
    }

    #display .block {
      display: flex;
      flex: 1 1 auto;
    }

    #display .block>.comment {
      display: none;
    }

    #display .hr {
      width: 100%;
      height: 1px;
      display: block;
      margin: 0.5em;
      border-top: 1px solid black;
    }

    #display a {
      text-decoration-line: none;
      text-decoration-color: black;
      color: darkblue;
    }

    #display a.broken-internal-link {
      text-decoration-line: underline;
      text-decoration-style: wavy;
      text-underline-offset: 2px;
      text-decoration-color: red;
    }

    #display span.broken-internal-link {
      font-size: 0.75em;
      color: red;
    }

    #display a:focus-visible {
      outline: none;
      background-color: yellow;
    }

    #display p {
      width: 100%;
      display: block;
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }

    #display pre {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }

    #display h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      width: 100%;
      text-decoration: none;
      color: inherit;
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }

    #display h1 {
      color: darkblue;
      border-bottom: 2px solid darkblue;
    }

    #display h2 {
      border-bottom: 1px solid black;
    }

    #display h3 {
      border-bottom: 1px dotted black;
    }

    #display img {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
      max-width: 100%;
    }

    figure {
      display: block;
      margin-block: 0em;
      margin-inline: 0px;
    }

    details>summary {
      font-weight: bold;
    }

    details {
      padding-left: 0.5em;
    }

    details[open] {
      border: 1px solid black;
      padding: 0em 0em 0em 0.5em;
    }

    table {
      padding: 0px;
      display: block;
      width: 100%;
    }

    table tr {
      border-top: 1px solid rgb(204, 204, 204);
      background-color: white;
      margin: 0px;
      padding: 0px;
    }

    table tr:nth-child(2n) {
      background-color: rgb(248, 248, 248);
    }

    table tr th {
      font-weight: bold;
      border: 1px solid rgb(204, 204, 204);
      text-align: left;
      margin: 0px;
      padding: 6px 13px;
    }

    table tr td {
      border: 1px solid rgb(204, 204, 204);
      text-align: left;
      margin: 0px;
      padding: 6px 13px;
    }

    table tr th :first-child,
    table tr td :first-child {
      margin-top: 0px;
    }

    table tr th :last-child,
    table tr td :last-child {
      margin-bottom: 0px;
    }

    #display code {
      width: 100%;
      background-color: rgba(0, 0, 0, 0.03);
      border-radius: 0px;
      white-space: pre-wrap;
    }

    #display code~.line-number {
      margin-top: 3px;
      margin-right: 3px;
    }

    #display pre {
      width: 100%;
      text-indent: 0.75em;
      margin: 0.5em 0px;
      white-space: pre-wrap;
      border-left: 3px solid black;
      background-color: rgba(0, 0, 0, 0.03);
      line-height: 1.25;
      overflow-x: clip;
    }

    #display pre code {
      background-color: rgba(0, 0, 0, 0);
      margin-top: 0.25em;
      margin-bottom: 0.25em;
    }

    #display pre.language-python {}

    #display li>div {
      display: flex;
    }

    #display li {
      min-height: 1em;
      width: 100%;
    }

    #display ul {
      width: 100%;
      margin-top: 0.5em;
      margin-bottom: 0.5em;
      margin-left: 1em;
      padding-left: 0.35em;
    }

    #display ul.compact {
      margin-top: 0.25em;
      margin-bottom: 0.25em;
    }

    #display ol {
      width: 100%;
      margin-left: 1em;
      padding-left: 0.5em;
    }

    #display>.section>.block &>ol.compact {
      margin-top: 0.25em;
      margin-bottom: 0.25em;
    }

    #display>.section>.block>ol.loose {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }

    #display>.section>.block>ol.compact {
      margin-top: 0.25em;
      margin-bottom: 0.25em;
    }

    #display ol.compact p {
      margin-top: 0.25em;
      margin-bottom: 0.25em;
    }

    #display ol.loose p {
      margin-top: 0.25em;
      margin-bottom: 0.25em;
    }

    #display ul.compact p {
      margin-top: 0.25em;
      margin-bottom: 0.25em;
    }

    #display ul.loose p {
      margin-top: 0.25em;
      margin-bottom: 0.25em;
    }

    .inline-html .block .block-info {
      display: none;
    }

    .inline-html {
      width: 100%;
    }

    .section>.block ol~.block-info {}

    .section>.block ul~.block-info {}

    .section>.block pre~.block-info {}

    .section>.block code~.block-info {}

    pre .block-info {
      font-size: 8px;
      text-align: right;
      text-indent: 0px;
    }

    .block-info {
      text-align: right;
      width: 24px;
      font-family: monospace;
      white-space: pre-line;
      overflow-wrap: break-word;
      font-size: 8px;
      border-top: 1px solid black;
      border-bottom: 1px solid black;
      border-right: 1px solid black;
    }

    .blockquote {
      width: 100%;
      display: block;
      margin: 1em;
      border: 1px solid black;
      padding: 1em;
      border-radius: 0.5em;
    }

    .inline {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }

    .latex-underline {
      text-decoration: underline;
    }

    .katex {
      font-size: inherit !important;
    }

    .katex-display {
      text-align: center;
      margin: 0em;
      font-size: 1em !important;
    }

    .katex-display.fleqn>.katex {
      padding-left: 0em;
      margin: 0em;
    }

    .katex-warning {
      border-right: 0.5em solid red;
    }

    .katex-error-expression {}

    .katex-error-message {
      color: red;
    }

    .page-break {
      break-after: page;
      width: 100%;
      font-size: 0px;
      border-top: 1px dotted black;
    }

    .solutionsfalse {
      display: none;
    }

    .solutionstrue {
      display: block;
    }

    @media print {
      * {
        overflow: visible !important;
      }

      @page {
        size: auto;
        margin: 0.5in 0.75in 0.75in;
      }

      .katex .hide-tail {
        overflow: hidden !important;
      }

      .page-break {
        border-top: none;
      }

      .body {
        display: inline;
        position: relative;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        width: 100%;
        margin-block: 0.1em;
      }

      h1 {
        font-size: 1.25em;
        color: black;
        border-bottom: 2px solid black;
      }

      h2 {
        font-size: 1.15em;
        border-bottom: 1px solid black;
      }

      h3 {
        font-size: 1.1em;
      }

      h4,
      h5,
      h6 {
        font-size: 1.05em;
      }

      .md-toc {
        break-inside: avoid;
        font-size: 14px;
      }

      pre {
        break-inside: avoid;
      }

      p {
        margin-top: 0.5em;
        margin-bottom: 0.5em;
      }

      #toc {
        display: none;
        font-size: 100%;
        margin: 0px;
        width: 100%;
        overflow-y: hidden;
        padding-left: 0px;
        padding-right: 0px;
      }

      #display {
        margin-left: 0em;
        width: 100%;
        padding-left: 0px;
        padding-right: 0px;
        border: none;
        overflow-wrap: break-word;
      }

      .katex {
        font: 1em / 1.1 KaTeX_Main, "Times New Roman", serif;
        white-space: nowrap;
        text-indent: 0px;
        text-rendering: auto;
      }

      .katex-display {
        margin-top: 0px !important;
        font-size: 1em !important;
      }
    }
  </style>
  <script>
    function tocClickListen() {
      let hs = document.querySelectorAll('#toc > ol ol');
      let el, ns;
      for (let i = 0; i < hs.length; i++) {
        if (hs[i].previousElementSibling) {
          el = hs[i].previousElementSibling.firstElementChild;
          if (el.length == 0) {
            continue;
          }
          el.addEventListener('click', event => {
            ns = event.target.parentNode.nextElementSibling;
            if (!ns) return;
            if (ns.style.display === 'none') {
    ns.style.display = 'block';
            } else
            {
    ns.style.display = 'none';}
          });
        }
      }
    }
    if (
        document.readyState === "complete" ||
        (document.readyState !== "loading" && 
          !document.documentElement.doScroll)
    ) {
      tocClickListen();
    } else {
      document.addEventListener("DOMContentLoaded", tocClickListen);
    }
  </script>
</head>

<body class="body">
  <div id="toc" style="min-width: 5em;">
    <ol>
      <li>
        <a href="#1-about" raw="# 1 About" lo="32">
          <span class="toctext">About</span>
        </a>
      </li>
      <li>
        <a href="#2-installation" raw="# 2 Installation" lo="50">
          <span class="toctext">Installation</span>
        </a>
      </li>
      <li>
        <a href="#3-examples" raw="# 3 Examples" lo="61">
          <span class="toctext">Examples</span>
        </a>
        <ol class="toc" style="display: none;">
          <li>
            <a href="#31-list-of-included-examples" raw="## 3.1 List of Included Examples" lo="63">
              <span class="toctext">List of Included Examples</span>
            </a>
          </li>
          <li>
            <a href="#32-serve-data-from-a-minimal-python-program" raw="## 3.2 Serve data from a minimal Python program" lo="90">
              <span class="toctext">Serve data from a minimal Python program</span>
            </a>
          </li>
          <li>
            <a href="#33-serve-data-from-an-enhanced-python-program" raw="## 3.3 Serve data from an enhanced Python program" lo="114">
              <span class="toctext">Serve data from an enhanced Python program</span>
            </a>
          </li>
          <li>
            <a href="#34-serve-data-from-a-non-hapi-web-service" raw="## 3.4 Serve data from a non-HAPI web service" lo="144">
              <span class="toctext">Serve data from a non-HAPI web service</span>
            </a>
          </li>
          <li>
            <a href="#35-serve-data-stored-in-a-single-file" raw="## 3.5 Serve data stored in a single file" lo="156">
              <span class="toctext">Serve data stored in a single file</span>
            </a>
          </li>
          <li>
            <a href="#36-serve-data-read-by-autoplot" raw="## 3.6 Serve data read by Autoplot" lo="168">
              <span class="toctext">Serve data read by Autoplot</span>
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#4-usage" raw="# 4 Usage" lo="200">
          <span class="toctext">Usage</span>
        </a>
      </li>
      <li>
        <a href="#5-server-configuration" raw="# 5 Server Configuration" lo="274">
          <span class="toctext">Server Configuration</span>
        </a>
        <ol class="toc" style="display: none;">
          <li>
            <a href="#51-conf-config.json" raw="## 5.1 conf/config.json" lo="276">
              <span class="toctext">conf/config.json</span>
            </a>
          </li>
          <li>
            <a href="#52-apache" raw="## 5.2 Apache" lo="324">
              <span class="toctext">Apache</span>
            </a>
          </li>
          <li>
            <a href="#53-nginx" raw="## 5.3 Nginx" lo="346">
              <span class="toctext">Nginx</span>
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#6-metadata" raw="# 6 Metadata" lo="361">
          <span class="toctext">Metadata</span>
        </a>
        <ol class="toc" style="display: none;">
          <li>
            <a href="#61-server" raw="## 6.1 server" lo="435">
              <span class="toctext">server</span>
            </a>
            <ol class="toc" style="display: none;">
              <li>
                <a href="#611-id-and-prefix" raw="### 6.1.1 id and prefix" lo="451">
                  <span class="toctext">id and prefix</span>
                </a>
              </li>
              <li>
                <a href="#612-contact" raw="### 6.1.2 contact" lo="469">
                  <span class="toctext">contact</span>
                </a>
              </li>
              <li>
                <a href="#613-landingfile-and-landingpath" raw="### 6.1.3 landingFile and landingPath" lo="473">
                  <span class="toctext">landingFile and landingPath</span>
                </a>
              </li>
              <li>
                <a href="#614-catalog-update" raw="### 6.1.4 catalog-update" lo="501">
                  <span class="toctext">catalog-update</span>
                </a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#62-catalog" raw="## 6.2 catalog" lo="505">
              <span class="toctext">catalog</span>
            </a>
            <ol class="toc" style="display: none;">
              <li>
                <a href="#621-catalog_inline" raw="### 6.2.1 `catalog_inline`" lo="513" class="highlighted">
                  <span class="toctext"><code type="md">catalog_inline</code></span>
                </a>
              </li>
              <li>
                <a href="#622-6.2.3-references-to-a-command-line-template-or-file" raw="### 6.2.3 References to a command-line template or file" lo="586">
                  <span class="toctext">References to a command-line template or file</span>
                </a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#63-data" raw="## 6.3 data" lo="598">
              <span class="toctext">data</span>
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#7-development" raw="# 7 Development" lo="601">
          <span class="toctext">Development</span>
        </a>
      </li>
      <li>
        <a href="#8-contact" raw="# 8 Contact" lo="631">
          <span class="toctext">Contact</span>
        </a>
      </li>
    </ol>
  </div>
  <div id="display">
    <div class="section">
      <div class="block">
        <div class="comment" lo="1" lf="1">
          <!-- TOC -->
        </div>
        <div class="block-info" style="display: none;"><span class="line-numbers">1</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="2" lf="28"><a href="#1-about">1 About</a><br>
          <a href="#2-installation">2 Installation</a><br>
          <a href="#3-examples">3 Examples</a><br> &nbsp;&nbsp;&nbsp;<a href="#31-list-of-included-examples">3.1 List of Included Examples</a><br> &nbsp;&nbsp;&nbsp;<a href="#32-serve-data-from-a-minimal-python-program">3.2 Serve data from a minimal Python program</a><br> &nbsp;&nbsp;&nbsp;<a href="#33-serve-data-from-an-enhanced-python-program">3.3 Serve data from an enhanced Python program</a><br> &nbsp;&nbsp;&nbsp;<a href="#34-serve-data-from-a-non-hapi-web-service">3.4 Serve data from a non-HAPI web service</a><br> &nbsp;&nbsp;&nbsp;<a href="#35-serve-data-stored-in-a-single-file">3.5 Serve data stored in a single file</a><br> &nbsp;&nbsp;&nbsp;<a href="#36-serve-data-read-by-autoplot">3.6 Serve data read by Autoplot</a><br>
          <a href="#4-usage">4 Usage</a><br>
          <a href="#5-server-configuration">5 Server Configuration</a><br> &nbsp;&nbsp;&nbsp;<a href="#51-conf-config.json">5.1 conf/config.json</a><br> &nbsp;&nbsp;&nbsp;<a href="#52-apache">5.2 Apache</a><br> &nbsp;&nbsp;&nbsp;<a href="#53-nginx">5.3 Nginx</a><br>
          <a href="#6-metadata">6 Metadata</a><br> &nbsp;&nbsp;&nbsp;<a href="#61-server">6.1 server</a><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#611-id-and-prefix">6.1.1 id and prefix</a><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#612-contact">6.1.2 contact</a><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#613-landingfile-and-landingpath">6.1.3 landingFile and landingPath</a><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#614-catalog-update">6.1.4 catalog-update</a><br> &nbsp;&nbsp;&nbsp;<a href="#62-catalog">6.2 catalog</a><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#621-combined-hapi-catalog-and-info-object" class="broken-internal-link">6.2.1 Combined HAPI /catalog and /info object</a><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#622-catalog-response-with-file-or-command-template-for-info-object" class="broken-internal-link">6.2.2 /catalog response with file or command template for info object</a><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#623-references-to-a-command-line-template-or-file" class="broken-internal-link">6.2.3 References to a command-line template or file</a><br> &nbsp;&nbsp;&nbsp;<a href="#63-data">6.3 data</a><br>
          <a href="#7-development">7 Development</a><br>
          <a href="#8-contact">8 Contact</a>
        </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">2-28</span></div>
      </div>
      <div class="block">
        <div class="comment" lo="29" lf="29">
          <!-- \TOC -->
        </div>
        <div class="block-info" style="display: none;"><span class="line-numbers">29</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="31" lf="31"><a name="About"></a></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">31</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h1 lo="32" lf="32"><a name="1-about" number="1" lo="32" raw="# 1 About" class="anchor hanchor" href="#1-about"><span class="hnumber">1</span>&nbsp;<span class="htext">About</span></a></h1>
        <div class="block-info" style="display: none;"><span class="line-numbers">32</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="34" lf="34">The intended use for this server-side software is a data provider wants to serve data through a <a href="https://github.com/hapi-server/data-specification">HAPI API</a>. To be able to serve data from a HAPI API from their server using this software, the data provider only needs</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">34</span></div>
      </div>
      <div class="block">
        <ol lo="36" lf="37" class="compact">
          <li markerlength="3" padlength="0" lo="36" lf="36">
            <div class="block">
              <p padlength="0" lo="36" lf="36"><a href="https://github.com/hapi-server/data-specification">HAPI</a> metadata, in one of a <a href="#Metadata">variety of forms</a>, for a collection of datasets and</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">36</span></div>
            </div>
          </li>
          <li markerlength="3" padlength="0" lo="37" lf="39">
            <div class="block">
              <p padlength="0" lo="37" lf="37">a command-line program that returns at least <a href="https://github.com/hapi-server/data-specification/blob/master/hapi-dev/HAPI-data-access-spec-dev.md#data-stream-content">headerless HAPI CSV</a> for all parameters in the dataset over the full time range of available data. Optionally, the command line program can take inputs of a start and stop time, a list of one or more parameters to output, and an output format.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">37</span></div>
            </div>
          </li>
        </ol>
        <div class="block-info" style="display: none;"><span class="line-numbers">36-37</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="39" lf="39">This software handles</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">39</span></div>
      </div>
      <div class="block">
        <ol lo="41" lf="45" class="compact">
          <li markerlength="3" padlength="0" lo="41" lf="41">
            <div class="block">
              <p padlength="0" lo="41" lf="41">HAPI metadata validation,</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">41</span></div>
            </div>
          </li>
          <li markerlength="3" padlength="0" lo="42" lf="42">
            <div class="block">
              <p padlength="0" lo="42" lf="42">request validation and error responses,</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">42</span></div>
            </div>
          </li>
          <li markerlength="3" padlength="0" lo="43" lf="43">
            <div class="block">
              <p padlength="0" lo="43" lf="43">logging and alerts,</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">43</span></div>
            </div>
          </li>
          <li markerlength="3" padlength="0" lo="44" lf="44">
            <div class="block">
              <p padlength="0" lo="44" lf="44">time and parameter subsetting (as needed), and</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">44</span></div>
            </div>
          </li>
          <li markerlength="3" padlength="0" lo="45" lf="47">
            <div class="block">
              <p padlength="0" lo="45" lf="45">generation of <a href="https://github.com/hapi-server/data-specification/blob/master/hapi-dev/HAPI-data-access-spec-dev.md#data-stream-content">HAPI JSON</a> or <a href="https://github.com/hapi-server/data-specification/blob/master/hapi-dev/HAPI-data-access-spec-dev.md#data-stream-content">HAPI binary</a> (as needed).</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">45</span></div>
            </div>
          </li>
        </ol>
        <div class="block-info" style="display: none;"><span class="line-numbers">41-45</span></div>
      </div>
      <div class="block">
        <div class="comment" lo="47" lf="47">%A list of catalogs that are served using this software is given at <a href="%5Bhttp://hapi-server.org/servers%5D">http://hapi-server.org/servers</a>.</div>
      </div>
      <div class="block">
        <p padlength="0" lo="49" lf="49"><a name="Installation"></a></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">49</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h1 lo="50" lf="50"><a name="2-installation" number="2" lo="50" raw="# 2 Installation" class="anchor hanchor" href="#2-installation"><span class="hnumber">2</span>&nbsp;<span class="htext">Installation</span></a></h1>
        <div class="block-info" style="display: none;"><span class="line-numbers">50</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="52" lf="52">Requires <a href="https://nodejs.org/">NodeJS</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">52</span></div>
      </div>
      <div class="block">
        <pre lo="54" lf="58"><div class="block"><code lo="55">git clone https://github.com/hapi-server/server-nodejs.git &amp;&amp; cd server-nodejs</code></div><div class="block"><code lo="56">npm install</code></div><div class="block"><code lo="57">node server.js</code></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">54-58</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="60" lf="60"><a name="Examples"></a></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">60</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h1 lo="61" lf="61"><a name="3-examples" number="3" lo="61" raw="# 3 Examples" class="anchor hanchor" href="#3-examples"><span class="hnumber">3</span>&nbsp;<span class="htext">Examples</span></a></h1>
        <div class="block-info" style="display: none;"><span class="line-numbers">61</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="63" lf="63"><a name="31-list-of-included-examples" number="3.1" lo="63" raw="## 3.1 List of Included Examples" class="anchor hanchor" href="#31-list-of-included-examples"><span class="hnumber">3.1</span>&nbsp;<span class="htext">List of Included Examples</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">63</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="65" lf="65">The following examples are included in the <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/">metadata</a> directory. The examples can be run using</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">65</span></div>
      </div>
      <div class="block">
        <pre lo="67" lf="69">./hapi-server -f metadata/FILENAME.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">67-69</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="71" lf="71">where <code type="md">FILENAME.json</code> is one of the file names listed below (e.g., <code type="md">Example0.json</code>).</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">71</span></div>
      </div>
      <div class="block">
        <ul lo="73" lf="88" class="compact">
          <li markerlength="2" padlength="0" lo="73" lf="73">
            <div class="block">
              <p padlength="0" lo="73" lf="73"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example0.json">Example0.json</a> - A Python program dumps a full dataset in the headerless HAPI CSV format; the server handles time and parameter subsetting and creation of HAPI Binary and JSON.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">73</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="74" lf="74">
            <div class="block">
              <p padlength="0" lo="74" lf="74"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example1.json">Example1.json</a> - Same as Example0 except the Python program handles time subsetting.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">74</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="75" lf="75">
            <div class="block">
              <p padlength="0" lo="75" lf="75"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example2.json">Example2.json</a> - Same as Example1 except the Python program handles time and parameter subsetting and creation of HAPI CSV and Binary.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">75</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="76" lf="76">
            <div class="block">
              <p padlength="0" lo="76" lf="76"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example3.json">Example3.json</a> - Same as Example2 except for HAPI info metadata for each dataset is stored in an external file.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">76</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="77" lf="77">
            <div class="block">
              <p padlength="0" lo="77" lf="77"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example4.json">Example4.json</a> - Same as Example3 except for HAPI info metadata for each dataset is generated by a command-line command.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">77</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="78" lf="78">
            <div class="block">
              <p padlength="0" lo="78" lf="78"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example5.json">Example5.json</a> - Same as Example4 except catalog metadata is stored in an external file.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">78</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="79" lf="79">
            <div class="block">
              <p padlength="0" lo="79" lf="79"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example6.json">Example6.json</a> - Same as Example5 except catalog metadata is generated by a command-line command.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">79</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="80" lf="80">
            <div class="block">
              <p padlength="0" lo="80" lf="80"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example7.json">Example7.json</a> - Pass-through example; Same as Example2 except that data is generated by remote request and catalog metadata is returned from a URL.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">80</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="81" lf="81">
            <div class="block">
              <p padlength="0" lo="81" lf="81"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example8.json">Example8.json</a> - A dataset in headerless HAPI CSV format is stored in a single file; the server handles parameter and time subsetting and creation of HAPI JSON and Binary.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">81</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="82" lf="82">
            <div class="block">
              <p padlength="0" lo="82" lf="82"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example9.json">Example9.json</a> - A dataset in headerless HAPI CSV format is returned by a URL; the server handles parameter and time subsetting and creation of HAPI JSON and Binary.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">82</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="83" lf="83">
            <div class="block">
              <p padlength="0" lo="83" lf="83"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/AutoplotExample1.json">AutoplotExample1.json</a> - A dataset is stored in multiple files and AutoplotDataServer is used to subset in time.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">83</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="84" lf="84">
            <div class="block">
              <p padlength="0" lo="84" lf="84"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/AutoplotExample2.json">AutoplotExample2.json</a> - A dataset is stored in a CDF file and AutoplotDataserver is used to generate HAPI CSV.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">84</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="85" lf="85">
            <div class="block">
              <p padlength="0" lo="85" lf="85"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/TestData2.0.json">TestData2.0.json</a> - A test dataset used to test HAPI clients.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">85</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="86" lf="86">
            <div class="block">
              <p padlength="0" lo="86" lf="86"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/TestData2.1.json">TestData2.1.json</a> - A test dataset used to test HAPI clients.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">86</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="87" lf="87">
            <div class="block">
              <p padlength="0" lo="87" lf="87"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/SSCWeb.json">SSCWeb.json</a> - Data from a non-HAPI web service is made available from a HAPI server.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">87</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="88" lf="90">
            <div class="block">
              <p padlength="0" lo="88" lf="88"><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/QinDenton">QinDenton.json</a> - Data in a single ASCII file is converted to headerless HAPI CSV by a Python program. See section 2.5.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">88</span></div>
            </div>
          </li>
        </ul>
        <div class="block-info" style="display: none;"><span class="line-numbers">73-88</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="90" lf="90"><a name="32-serve-data-from-a-minimal-python-program" number="3.2" lo="90" raw="## 3.2 Serve data from a minimal Python program" class="anchor hanchor" href="#32-serve-data-from-a-minimal-python-program"><span class="hnumber">3.2</span>&nbsp;<span class="htext">Serve data from a minimal Python program</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">90</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="92" lf="92">In this example, we assume that the command line program that returns a dataset has the minimal capabilities required - when executed, it generates a headerless HAPI CSV file with all parameters in the dataset over the full time range of available data. The server handles time and parameter subsetting and the generation of HAPI Binary and JSON.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">92</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="94" lf="94">The Python script <a href="https://github.com/hapi-server/server-nodejs/blob/master/bin/Example.py">Example.py</a> returns HAPI-formatted CSV data (with no header) with two parameters. To serve this data, only a configuration file, <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example0.json">Example0.json</a>, is needed. The configuration file has information that is used to call the command line program and it also has HAPI metadata that describes the output of <a href="https://raw.githubusercontent.com/hapi-server/server-nodejs/master/bin/Example.py">Example.py</a>. Details about the configuration file format are described in the <a href="#Metadata">Metadata</a> section.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">94</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="96" lf="96">The Python calling syntax of <a href="https://github.com/hapi-server/server-nodejs/blob/master/bin/Example.py">Example.py</a> is </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">96</span></div>
      </div>
      <div class="block">
        <pre lo="98" lf="100">python Example.py</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">98-100</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="102" lf="102">To run this example locally after <a href="#Installation">installation</a>, execute</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">102</span></div>
      </div>
      <div class="block">
        <pre lo="104" lf="106" class="language-bash">./hapi-server --file metadata/Example0.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">104-106</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="108" lf="108">and then open <code type="md">http://localhost:8999/Example0/hapi</code>. You should see the same landing page as that at <a href="http://hapi-server.org/servers-dev/Example0/hapi">http://hapi-server.org/servers-dev/Example0/hapi</a>. Note that the <code type="md">--open</code> command-line switch can be used to automatically open the landing page, e.g.,</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">108</span></div>
      </div>
      <div class="block">
        <pre lo="110" lf="112" class="language-bash">./hapi-server --file metadata/Example0.json --open</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">110-112</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="114" lf="114"><a name="33-serve-data-from-an-enhanced-python-program" number="3.3" lo="114" raw="## 3.3 Serve data from an enhanced Python program" class="anchor hanchor" href="#33-serve-data-from-an-enhanced-python-program"><span class="hnumber">3.3</span>&nbsp;<span class="htext">Serve data from an enhanced Python program</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">114</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="116" lf="116">The Python script <a href="https://github.com/hapi-server/server-nodejs/blob/master/bin/Example.py">Example.py</a> actually can subset parameters and time and provide binary output. To force the server to use these capabilities, we need to modify the server configuration metadata in <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example2.json">Example1.json</a>. The changes are replacing</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">116</span></div>
      </div>
      <div class="block">
        <pre lo="118" lf="120">"command": "python bin/Example.py"</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">118-120</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="122" lf="122">with</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">122</span></div>
      </div>
      <div class="block">
        <pre lo="124" lf="126">"command": "python bin/Example.py --params ${parameters} --start ${start} --stop ${stop} --fmt ${format}"</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">124-126</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="128" lf="128">and adding</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">128</span></div>
      </div>
      <div class="block">
        <pre lo="130" lf="132">"formats": ["csv","binary"]</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">130-132</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="134" lf="134">The modified file is <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example2.json">Example2.json</a>. To run this example locally after <a href="#Installation">installation</a>, execute</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">134</span></div>
      </div>
      <div class="block">
        <pre lo="136" lf="138" class="language-bash">./hapi-server --file metadata/Example2.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">136-138</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="140" lf="140">and then open <code type="md">http://localhost:8999/Example2/hapi</code>. The command-line program now produces binary output and performs parameter subsetting as needed and the response time for data should decrease.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">140</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="142" lf="142">The server responses will be identical to that in the previous example. You should see the same landing page as that at <a href="http://hapi-server.org/servers-dev/Example2/hapi">http://hapi-server.org/servers-dev/Example2/hapi</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">142</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="144" lf="144"><a name="34-serve-data-from-a-non-hapi-web-service" number="3.4" lo="144" raw="## 3.4 Serve data from a non-HAPI web service" class="anchor hanchor" href="#34-serve-data-from-a-non-hapi-web-service"><span class="hnumber">3.4</span>&nbsp;<span class="htext">Serve data from a non-HAPI web service</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">144</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="146" lf="146">A non-HAPI server can be quickly made HAPI compliant by using this server as a pass-through. Data from <a href="https://sscweb.sci.gsfc.nasa.gov/">SSCWeb</a>, which is available from a <a href="https://sscweb.sci.gsfc.nasa.gov/WebServices/REST/">REST API</a>, has been made available through a HAPI API at <a href="http://hapi-server.org/servers/SSCWeb/hapi">http://hapi-server.org/servers/SSCWeb/hapi</a>. The configuration file is <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/SSCWeb.json">SSCWeb.json</a> and the command line program is <a href="https://github.com/hapi-server/server-nodejs/blob/master/bin/SSCWeb.js">SSCWeb.js</a>. Note that the metadata file <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/SSCWeb.json">SSCWeb.json</a> was created using code in <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/SSCWeb">metadata/SSCWeb</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">146</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="148" lf="148">To run this example locally after <a href="#Installation">installation</a>, execute</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">148</span></div>
      </div>
      <div class="block">
        <pre lo="150" lf="152" class="language-bash">./hapi-server --file metadata/SSCWeb.json --open</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">150-152</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="154" lf="154">You should see the same landing page as that at <a href="http://hapi-server.org/servers/SSCWeb/hapi">http://hapi-server.org/servers/SSCWeb/hapi</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">154</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="156" lf="156"><a name="35-serve-data-stored-in-a-single-file" number="3.5" lo="156" raw="## 3.5 Serve data stored in a single file" class="anchor hanchor" href="#35-serve-data-stored-in-a-single-file"><span class="hnumber">3.5</span>&nbsp;<span class="htext">Serve data stored in a single file</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">156</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="158" lf="158">The <a href="http://virbo.org/QinDenton">Qin-Denton</a> dataset contains multiple parameters stored in a single large file.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">158</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="160" lf="160">The command-line program that produces HAPI CSV from this file is <a href="https://github.com/hapi-server/server-nodejs/blob/master/bin/QinDenton.py">QinDenton.py</a> and the metadata is in <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/QinDenton.json">QinDenton.json</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">160</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="162" lf="162">To run this example, use</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">162</span></div>
      </div>
      <div class="block">
        <pre lo="164" lf="166">./hapi-server --file metadata/QinDenton.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">164-166</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="168" lf="168"><a name="36-serve-data-read-by-autoplot" number="3.6" lo="168" raw="## 3.6 Serve data read by Autoplot" class="anchor hanchor" href="#36-serve-data-read-by-autoplot"><span class="hnumber">3.6</span>&nbsp;<span class="htext">Serve data read by Autoplot</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">168</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="170" lf="170">Nearly any data file that can be read by <a href="http://autoplot.org/">Autoplot</a> can be served using this server. </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">170</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="172" lf="172">Serving data requires at most two steps:</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">172</span></div>
      </div>
      <div class="block">
        <ol lo="174" lf="175" class="compact">
          <li markerlength="3" padlength="0" lo="174" lf="174">
            <div class="block">
              <p padlength="0" lo="174" lf="174">Generating an Autoplot URI for each parameter; and (in some cases)</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">174</span></div>
            </div>
          </li>
          <li markerlength="3" padlength="0" lo="175" lf="177">
            <div class="block">
              <p padlength="0" lo="175" lf="175">Writing (by hand) metadata for each parameter.</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">175</span></div>
            </div>
          </li>
        </ol>
        <div class="block-info" style="display: none;"><span class="line-numbers">174-175</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="177" lf="177"><strong type="md">Example 1</strong></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">177</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="179" lf="179">The first example serves data stored in a single CDF file. The configuration file is <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/AutoplotExample1.json">AutoplotExample1.json</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">179</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="181" lf="181">In this example, step 2. above (writing metadata by hand) is not required because the data file has metadata that is in a format that Autoplot can translate to HAPI metadata.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">181</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="183" lf="183">To run this example locally, execute</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">183</span></div>
      </div>
      <div class="block">
        <pre lo="185" lf="187" class="language-bash">./hapi-server --file metadata/AutoplotExample1.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">185-187</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="189" lf="189"><strong type="md">Example 2</strong></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">189</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="191" lf="191">The second example serves data stored in multiple ASCII files. The configuration file is <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/AutoplotExample2.json">AutoplotExample2.json</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">191</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="193" lf="193">To run this example locally, execute</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">193</span></div>
      </div>
      <div class="block">
        <pre lo="195" lf="197" class="language-bash">./hapi-server --file metadata/AutoplotExample2.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">195-197</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="199" lf="199"><a name="Usage"></a></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">199</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h1 lo="200" lf="200"><a name="4-usage" number="4" lo="200" raw="# 4 Usage" class="anchor hanchor" href="#4-usage"><span class="hnumber">4</span>&nbsp;<span class="htext">Usage</span></a></h1>
        <div class="block-info" style="display: none;"><span class="line-numbers">200</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="202" lf="202">List command-line options:</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">202</span></div>
      </div>
      <div class="block">
        <pre lo="204" lf="243"><div class="block"><code lo="205">./hapi-server -h</code><div class="line-number">1</div></div><div class="block"><code lo="206"></code><div class="line-number">2</div></div><div class="block"><code lo="207">Usage: node server.js [options]</code><div class="line-number">3</div></div><div class="block"><code lo="208"></code><div class="line-number">4</div></div><div class="block"><code lo="209">Options:</code><div class="line-number">5</div></div><div class="block"><code lo="210">  --help, -h           Show help                                       [boolean]</code><div class="line-number">6</div></div><div class="block"><code lo="211">  --https              Start https server             [boolean] [default: false]</code><div class="line-number">7</div></div><div class="block"><code lo="212">  --cert               https certificate file path</code><div class="line-number">8</div></div><div class="block"><code lo="213">  --key                https key file path</code><div class="line-number">9</div></div><div class="block"><code lo="214">  --file, -f           Catalog configuration file or file pattern [string]</code><div class="line-number">10</div></div><div class="block"><code lo="215">                                 [default: "./lib/../metadata/TestData2.0.json"]</code><div class="line-number">11</div></div><div class="block"><code lo="216">  --port, -p           Server port                               [default: 8999]</code><div class="line-number">12</div></div><div class="block"><code lo="217">  --conf, -c           Server configuration file</code><div class="line-number">13</div></div><div class="block"><code lo="218">  --ignore, -i         Start server even if metadata validation errors</code><div class="line-number">14</div></div><div class="block"><code lo="219">                                                      [boolean] [default: false]</code><div class="line-number">15</div></div><div class="block"><code lo="220">  --skipchecks, -s     Skip startup metadata validation and command line tests</code><div class="line-number">16</div></div><div class="block"><code lo="221">                                                      [boolean] [default: false]</code><div class="line-number">17</div></div><div class="block"><code lo="222">  --logdir, -l         Log directory                   [default: "./lib/../log"]</code><div class="line-number">18</div></div><div class="block"><code lo="223">  --open, -o           Open web page on start         [boolean] [default: false]</code><div class="line-number">19</div></div><div class="block"><code lo="224">  --test, -t           Run URL tests and exit         [boolean] [default: false]</code><div class="line-number">20</div></div><div class="block"><code lo="225">  --verify, -v         Run verification tests on command line and exit</code><div class="line-number">21</div></div><div class="block"><code lo="226">                                                      [boolean] [default: false]</code><div class="line-number">22</div></div><div class="block"><code lo="227">  --loglevel           info or debug                           [default: "info"]</code><div class="line-number">23</div></div><div class="block"><code lo="228">  --verifier           Verifier server URL on landing page (__VERIFIER__ in html</code><div class="line-number">24</div></div><div class="block"><code lo="229">                       is replaced with this value)                [default: ""]</code><div class="line-number">25</div></div><div class="block"><code lo="230">  --plotserver         Plot server URL on landing page (__PLOTSERVER__ in html</code><div class="line-number">26</div></div><div class="block"><code lo="231">                       is replaced with this value)                [default: ""]</code><div class="line-number">27</div></div><div class="block"><code lo="232">  --python             Location of Python binary to use (if needed for command</code><div class="line-number">28</div></div><div class="block"><code lo="233">                       line calls).                                [default: ""]</code><div class="line-number">29</div></div><div class="block"><code lo="234">  --nodejs             Location of NodeJS binary to use (if needed for command</code><div class="line-number">30</div></div><div class="block"><code lo="235">                       line calls).</code><div class="line-number">31</div></div><div class="block"><code lo="236">  --server-ui-include  Also include these servers in server-ui server drop-down.</code><div class="line-number">32</div></div><div class="block"><code lo="237">                       Use multiple times for more than one list.  [default: ""]</code><div class="line-number">33</div></div><div class="block"><code lo="238">  --proxy-whitelist    Allow proxying of these servers (so one can use</code><div class="line-number">34</div></div><div class="block"><code lo="239">                       server=http://... in addressbar of server-ui).</code><div class="line-number">35</div></div><div class="block"><code lo="240">                                                                   [default: ""]</code><div class="line-number">36</div></div><div class="block"><code lo="241"></code><div class="line-number">37</div></div><div class="block"><code lo="242">For more details, see README at https://github.com/hapi-server/server-nodejs/</code><div class="line-number">38</div></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">204-243</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="245" lf="245">Basic usage:</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">245</span></div>
      </div>
      <div class="block">
        <pre lo="247" lf="249">./hapi-server --file metadata/TestData.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">247-249</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="251" lf="251">Starts HAPI server at <a href="http://localhost:8999/hapi"><code type="md">http://localhost:8999/TestData/hapi</code></a> and serves datasets specified in the catalog <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/TestData.json">./metadata/TestData.json</a>. </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">251</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="253" lf="253">Multiple catalogs can be served by providing multiple catalog files on the command line:</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">253</span></div>
      </div>
      <div class="block">
        <pre lo="255" lf="257" class="language-bash">./hapi-server --file CATALOG1.json --file CATALOG2.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">255-257</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="259" lf="259">For example</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">259</span></div>
      </div>
      <div class="block">
        <pre lo="261" lf="263" class="language-bash">./hapi-server --file metadata/TestData2.0.json --file metadata/Example1.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">261-263</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="264" lf="264">will serve the two datasets at</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">264</span></div>
      </div>
      <div class="block">
        <pre lo="266" lf="269"><div class="block"><code lo="267">http://localhost:8999/TestData2.0/hapi</code></div><div class="block"><code lo="268">http://localhost:8999/Example1/hapi</code></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">266-269</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="271" lf="271">And the page at <code type="md">http://localhost:8999/</code> will point to these two URLs.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">271</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="273" lf="273"><a name="Server_Configuration"></a></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">273</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h1 lo="274" lf="274"><a name="5-server-configuration" number="5" lo="274" raw="# 5 Server Configuration" class="anchor hanchor" href="#5-server-configuration"><span class="hnumber">5</span>&nbsp;<span class="htext">Server Configuration</span></a></h1>
        <div class="block-info" style="display: none;"><span class="line-numbers">274</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="276" lf="276"><a name="51-conf-config.json" number="5.1" lo="276" raw="## 5.1 conf/config.json" class="anchor hanchor" href="#51-conf-config.json"><span class="hnumber">5.1</span>&nbsp;<span class="htext">conf/config.json</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">276</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="278" lf="278">The variables <code type="md">$HAPISERVERPATH</code>, <code type="md">$PYTHONEXE</code>, and <code type="md">$NODEJSEXE</code> can be used in commands, files, and URLs in the server metadata (which are files passed using the command-line <code type="md">--file</code> switch). See <a href="https://github.com/hapi-server/server-nodejs/tree/master/metadata">the examples</a> for use cases.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">278</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="280" lf="280">These variables can be passed as command line arguments or set in the default configuration file <code type="md">conf/server.json</code>; an alternative location can be set using a command-line argument, e.g.,</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">280</span></div>
      </div>
      <div class="block">
        <pre lo="282" lf="284">./hapiserver -c /tmp/config.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">282-284</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="286" lf="286">Variables set on the command line take precedence over those set in <code type="md">conf/server.json</code>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">286</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="288" lf="288"><strong type="md"><code type="md">$HAPISERVERPATH</code></strong></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">288</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="290" lf="290"><code type="md">$HAPISERVERPATH</code> can be used in metadata files to reference the absolute path of a directory. For example,</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">290</span></div>
      </div>
      <div class="block">
        <pre lo="292" lf="298" class="language-javascript"><div class="block"><code lo="293">{</code><div class="line-number">1</div></div><div class="block"><code lo="294">  <span class="hljs-string">"server"</span>: {...},</code><div class="line-number">2</div></div><div class="block"><code lo="295">  <span class="hljs-string">"data"</span>: {...},</code><div class="line-number">3</div></div><div class="block"><code lo="296">  <span class="hljs-string">"catalog_file"</span>: <span class="hljs-string">"$HAPISERVERPATH/mymetadata/Data.json"</span></code><div class="line-number">4</div></div><div class="block"><code lo="297">}</code><div class="line-number">5</div></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">292-298</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="300" lf="300">By default, <code type="md">$HAPISERVERPATH</code> is the installation directory (the directory containing the shell launch script <code type="md">hapi-server</code>). Modify <code type="md">HAPISERVERPATH</code> on the commandline or in <code type="md">conf/server.json</code> to use a custom path.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">300</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="302" lf="302">All relative paths in commands in metadata files are relative to the directory where <code type="md">hapi-server</code> was executed.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">302</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="304" lf="304"><strong type="md"><code type="md">PYTHONEXE</code></strong></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">304</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="306" lf="306">This is the command used to call Python. By default, it is <code type="md">python</code>. If <code type="md">python</code> is not in the path, this can be set using a relative or absolute path. Python is used by several of the demonstration catalogs.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">306</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="308" lf="308">This variable can also be set using the <code type="md">--python</code> command line switch, which has the highest precedence.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">308</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="310" lf="310">Example:</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">310</span></div>
      </div>
      <div class="block">
        <pre lo="312" lf="316" class="language-javascript"><div class="block"><code lo="313">data: {</code></div><div class="block"><code lo="314">  <span class="hljs-string">"command"</span>: <span class="hljs-string">"$PYTHONEXE $HAPISERVERPATH/mybin/Data.py"</span></code></div><div class="block"><code lo="315">}</code></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">312-316</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="318" lf="318"><strong type="md"><code type="md">NODEJSEXE</code></strong></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">318</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="320" lf="320">This variable can also be set using the <code type="md">--nodejs</code> command line switch, which has the highest precedence.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">320</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="322" lf="322">This is the command used to call NodeJS. By default, it is the command used to start the server. The start-up script looks for a NodeJS executable in <code type="md">$HAPISERVERPATH/bin</code> and then tries <code type="md">node</code> and then <code type="md">nodejs</code>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">322</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="324" lf="324"><a name="52-apache" number="5.2" lo="324" raw="## 5.2 Apache" class="anchor hanchor" href="#52-apache"><span class="hnumber">5.2</span>&nbsp;<span class="htext">Apache</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">324</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="326" lf="326">To expose a URL through Apache, (1) enable <code type="md">mod_proxy</code> and <code type="md">mod_proxy_http</code>, (2) add the following in a <code type="md">&lt;VirtualHost&gt;</code> node in a <a href="https://httpd.apache.org/docs/2.4/vhosts/examples.html">Apache Virtual Hosts</a> file</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">326</span></div>
      </div>
      <div class="block">
        <pre lo="328" lf="333"><div class="block"><code lo="329">&lt;VirtualHost *:80&gt;</code></div><div class="block"><code lo="330">ProxyPass /TestData2.0 http://localhost:8999/TestData2.0 retry=1</code></div><div class="block"><code lo="331">ProxyPassReverse /TestData2.0 http://localhost:8999/TestData2.0</code></div><div class="block"><code lo="332">&lt;/VirtualHost&gt;</code></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">328-333</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="335" lf="335">and (3) <code type="md">Include</code> this file in the Apache start-up configuration file.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">335</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="337" lf="337">If serving multiple catalogs, use</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">337</span></div>
      </div>
      <div class="block">
        <pre lo="339" lf="344"><div class="block"><code lo="340">&lt;VirtualHost *:80&gt;</code></div><div class="block"><code lo="341">ProxyPass /servers http://localhost:8999/servers retry=1</code></div><div class="block"><code lo="342">ProxyPassReverse /servers http://localhost:8999/servers</code></div><div class="block"><code lo="343">&lt;/VirtualHost&gt;</code></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">339-344</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="346" lf="346"><a name="53-nginx" number="5.3" lo="346" raw="## 5.3 Nginx" class="anchor hanchor" href="#53-nginx"><span class="hnumber">5.3</span>&nbsp;<span class="htext">Nginx</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">346</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="348" lf="348">For Nginx, add the following to <code type="md">nginx.conf</code></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">348</span></div>
      </div>
      <div class="block">
        <pre lo="350" lf="352">location /TestData2.0 { proxy_pass http://localhost:8999/TestData2.0;}</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">350-352</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="354" lf="354">If serving multiple catalogs, use</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">354</span></div>
      </div>
      <div class="block">
        <pre lo="356" lf="358">location /servers {proxy_pass http://localhost:8999/servers;}</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">356-358</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="360" lf="360"><a name="Metadata"></a></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">360</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h1 lo="361" lf="361"><a name="6-metadata" number="6" lo="361" raw="# 6 Metadata" class="anchor hanchor" href="#6-metadata"><span class="hnumber">6</span>&nbsp;<span class="htext">Metadata</span></a></h1>
        <div class="block-info" style="display: none;"><span class="line-numbers">361</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="363" lf="363">The metadata required for this server is similar to the <code type="md">/catalog</code> and <code type="md">/info</code> response of a HAPI server. </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">363</span></div>
      </div>
      <div class="block">
        <ul lo="365" lf="366" class="compact">
          <li markerlength="2" padlength="0" lo="365" lf="365">
            <div class="block">
              <p padlength="0" lo="365" lf="365">Example HAPI <a href="http://hapi-server.org/servers/TestData2.1/hapi/catalog"><code type="md">/catalog</code></a> response</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">365</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="366" lf="368">
            <div class="block">
              <p padlength="0" lo="366" lf="366">Example HAPI <a href="http://http://hapi-server.org/servers/TestData2.1/hapi/info?id=dataset1"><code type="md">/info</code></a> response</p>
              <div class="block-info" style="display: none;"><span class="line-numbers">366</span></div>
            </div>
          </li>
        </ul>
        <div class="block-info" style="display: none;"><span class="line-numbers">365-366</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="368" lf="368">The server requires that the <code type="md">/catalog</code> response is combined with the <code type="md">/info</code> response for all datasets in the catalog in a single JSON catalog configuration file. Additional information about how to generate data must also be included in this JSON file.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">368</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="370" lf="370">The top-level structure of the configuration file is</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">370</span></div>
      </div>
      <div class="block">
        <pre lo="372" lf="424" class="language-javascript"><div class="block"><code lo="373">{</code><div class="line-number">1</div></div><div class="block"><code lo="374">  <span class="hljs-string">"server"</span>: <span class="hljs-comment">// See section 6.1</span></code><div class="line-number">2</div></div><div class="block"><code lo="375">  {</code><div class="line-number">3</div></div><div class="block"><code lo="376">    <span class="hljs-string">"id"</span>: <span class="hljs-string">""</span>,</code><div class="line-number">4</div></div><div class="block"><code lo="377">    <span class="hljs-string">"prefix"</span>: <span class="hljs-string">""</span>,</code><div class="line-number">5</div></div><div class="block"><code lo="378">    <span class="hljs-string">"HAPI"</span>: <span class="hljs-string">""</span>,</code><div class="line-number">6</div></div><div class="block"><code lo="379">    <span class="hljs-string">"contact"</span>: <span class="hljs-string">""</span>,</code><div class="line-number">7</div></div><div class="block"><code lo="380">    <span class="hljs-string">"landingFile"</span>: <span class="hljs-string">""</span>,</code><div class="line-number">8</div></div><div class="block"><code lo="381">    <span class="hljs-string">"landingPath"</span>: <span class="hljs-string">""</span>,</code><div class="line-number">9</div></div><div class="block"><code lo="382">    <span class="hljs-string">"verify"</span>: <span class="hljs-string">""</span>,</code><div class="line-number">10</div></div><div class="block"><code lo="383">    <span class="hljs-string">"catalog-update"</span>: <span class="hljs-literal">null</span></code><div class="line-number">11</div></div><div class="block"><code lo="384">  },</code><div class="line-number">12</div></div><div class="block"><code lo="385">  <span class="hljs-string">"catalog_inline"</span>: &lt;object&gt;</code><div class="line-number">13</div></div><div class="block"><code lo="386">  or</code><div class="line-number">14</div></div><div class="block"><code lo="387">  <span class="hljs-string">"catalog_file"</span>: &lt;string&gt;</code><div class="line-number">15</div></div><div class="block"><code lo="388">  or</code><div class="line-number">16</div></div><div class="block"><code lo="389">  <span class="hljs-string">"catalog_url"</span>: &lt;string&gt;</code><div class="line-number">17</div></div><div class="block"><code lo="390">  or</code><div class="line-number">18</div></div><div class="block"><code lo="391">  <span class="hljs-string">"catalog_command"</span>: &lt;string&gt;</code><div class="line-number">19</div></div><div class="block"><code lo="392"></code><div class="line-number">20</div></div><div class="block"><code lo="393">  <span class="hljs-string">"data"</span>:  <span class="hljs-comment">// See section 6.3</span></code><div class="line-number">21</div></div><div class="block"><code lo="394">  {</code><div class="line-number">22</div></div><div class="block"><code lo="395">     <span class="hljs-string">"command"</span>: <span class="hljs-string">"Command line template"</span>, <span class="hljs-comment">// See metadata/Example{1-7}.json</span></code><div class="line-number">23</div></div><div class="block"><code lo="396">     or <span class="hljs-comment">// See metadata/Example8.json</span></code><div class="line-number">24</div></div><div class="block"><code lo="397">     <span class="hljs-string">"file"</span>: <span class="hljs-string">"HAPI CSV file"</span></code><div class="line-number">25</div></div><div class="block"><code lo="398">     <span class="hljs-string">"fileformat"</span>: <span class="hljs-string">"one of 'csv', 'binary', 'json'"</span></code><div class="line-number">26</div></div><div class="block"><code lo="399">     or <span class="hljs-comment">// See metadata/Example9.json</span></code><div class="line-number">27</div></div><div class="block"><code lo="400">     <span class="hljs-string">"url"</span>: <span class="hljs-string">"URL that returns HAPI data"</span></code><div class="line-number">28</div></div><div class="block"><code lo="401">     <span class="hljs-string">"urlformat"</span>: <span class="hljs-string">"one of 'csv', 'binary', 'json'"</span></code><div class="line-number">29</div></div><div class="block"><code lo="402"></code><div class="line-number">30</div></div><div class="block"><code lo="403">     <span class="hljs-string">"contact"</span>: <span class="hljs-string">"Email address if error in command line program"</span>,</code><div class="line-number">31</div></div><div class="block"><code lo="404">     <span class="hljs-string">"testcommands"</span>: [</code><div class="line-number">32</div></div><div class="block"><code lo="405">       {</code><div class="line-number">33</div></div><div class="block"><code lo="406">        <span class="hljs-string">"command"</span>: string, </code><div class="line-number">34</div></div><div class="block"><code lo="407">        <span class="hljs-string">"Nlines"</span>: integer,</code><div class="line-number">35</div></div><div class="block"><code lo="408">        <span class="hljs-string">"Nbytes"</span>: integer,</code><div class="line-number">36</div></div><div class="block"><code lo="409">        <span class="hljs-string">"Ncommas"</span>, integer</code><div class="line-number">37</div></div><div class="block"><code lo="410">        },</code><div class="line-number">38</div></div><div class="block"><code lo="411">        ...</code><div class="line-number">39</div></div><div class="block"><code lo="412">      ],</code><div class="line-number">40</div></div><div class="block"><code lo="413">      <span class="hljs-string">"testurls"</span>: [</code><div class="line-number">41</div></div><div class="block"><code lo="414">        {</code><div class="line-number">42</div></div><div class="block"><code lo="415">          <span class="hljs-string">"url"</span>: string,  </code><div class="line-number">43</div></div><div class="block"><code lo="416">          <span class="hljs-string">"Nlines"</span>: integer, </code><div class="line-number">44</div></div><div class="block"><code lo="417">          <span class="hljs-string">"Nbytes"</span>: integer,  </code><div class="line-number">45</div></div><div class="block"><code lo="418">          <span class="hljs-string">"Ncommas"</span>: integer</code><div class="line-number">46</div></div><div class="block"><code lo="419">        },</code><div class="line-number">47</div></div><div class="block"><code lo="420">        ...</code><div class="line-number">48</div></div><div class="block"><code lo="421">      ]</code><div class="line-number">49</div></div><div class="block"><code lo="422">        },</code><div class="line-number">50</div></div><div class="block"><code lo="423">    }</code><div class="line-number">51</div></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">372-424</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="426" lf="426">A variety of examples are given in <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/"><code type="md">./metadata</code></a> and described below along with options for the catalog property.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">426</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="428" lf="428">The string <code type="md">command</code> in the data node is a command that produces a headerless HAPI data response that has optional placeholders. See <a href="https://github.com/hapi-server/server-nodejs/tree/master/metadata">metadata/Example{1-7}.json</a> for examples usage that includes calling <a href="https://github.com/hapi-server/server-nodejs/tree/master/bin/Example.py">bin/Example.py</a>. For example, in <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example4.json">metadata/Example4.json</a>, <code type="md">command</code> is</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">428</span></div>
      </div>
      <div class="block">
        <pre lo="430" lf="433" class="language-bash"><div class="block"><code lo="431">python ./bin/Example.py --dataset <span class="hljs-variable">${id}</span> --params \</code></div><div class="block"><code lo="432">    <span class="hljs-variable">${parameters}</span> --start <span class="hljs-variable">${start}</span> --stop <span class="hljs-variable">${stop}</span> --fmt <span class="hljs-variable">${format}</span><span class="hljs-string">"`</span></code></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">430-433</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="435" lf="435"><a name="61-server" number="6.1" lo="435" raw="## 6.1 server" class="anchor hanchor" href="#61-server"><span class="hnumber">6.1</span>&nbsp;<span class="htext">server</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">435</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="437" lf="437">The server node has the form</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">437</span></div>
      </div>
      <div class="block">
        <pre lo="439" lf="449" class="language-javascript"><div class="block"><code lo="440"><span class="hljs-string">"server"</span>: {</code><div class="line-number">1</div></div><div class="block"><code lo="441">  <span class="hljs-string">"id"</span>: <span class="hljs-string">""</span>,         <span class="hljs-comment">// Default is file name without extension.</span></code><div class="line-number">2</div></div><div class="block"><code lo="442">  <span class="hljs-string">"prefix"</span>: <span class="hljs-string">""</span>,     <span class="hljs-comment">// Default is id.</span></code><div class="line-number">3</div></div><div class="block"><code lo="443">  <span class="hljs-string">"contact"</span>: <span class="hljs-string">""</span>,    <span class="hljs-comment">// Required. Server will not start without this set. Displayed when data.command fails.</span></code><div class="line-number">4</div></div><div class="block"><code lo="444">  <span class="hljs-string">"HAPI"</span>: <span class="hljs-string">""</span>,       <span class="hljs-comment">// HAPI API and schema (e.g., 2.1, 3.0) to use for checking metadata.</span></code><div class="line-number">5</div></div><div class="block"><code lo="445">  <span class="hljs-string">"landingFile"</span>: <span class="hljs-string">""</span>,   <span class="hljs-comment">// e.g., index.htm file</span></code><div class="line-number">6</div></div><div class="block"><code lo="446">  <span class="hljs-string">"landingPath"</span>: <span class="hljs-string">""</span>,   <span class="hljs-comment">// relative paths in index.htm will resolve to this path</span></code><div class="line-number">7</div></div><div class="block"><code lo="447">  <span class="hljs-string">"catalog-update"</span>: <span class="hljs-literal">null</span> <span class="hljs-comment">// How often in seconds to re-read metadata in the catalog node</span></code><div class="line-number">8</div></div><div class="block"><code lo="448">}</code><div class="line-number">9</div></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">439-449</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h3 lo="451" lf="451"><a name="611-id-and-prefix" number="6.1.1" lo="451" raw="### 6.1.1 id and prefix" class="anchor hanchor" href="#611-id-and-prefix"><span class="hnumber">6.1.1</span>&nbsp;<span class="htext">id and prefix</span></a></h3>
        <div class="block-info" style="display: none;"><span class="line-numbers">451</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="453" lf="453">The <code type="md">id</code> is by default the name of the server configuration file, e.g.,</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">453</span></div>
      </div>
      <div class="block">
        <pre lo="455" lf="457">./hapi-server --file metadata/TestData2.0.json</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">455-457</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="459" lf="459">then <code type="md">id=TestData2.0</code> and <code type="md">prefix=TestData2.0</code>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">459</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="461" lf="461">By default, this catalog would be served from</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">461</span></div>
      </div>
      <div class="block">
        <pre lo="463" lf="465">http://localhost:8999/TestData2.0/hapi</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">463-465</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="467" lf="467"><code type="md">TestData2.0</code> in the URL can be changed to <code type="md">TestData2.0.1</code> by using <code type="md">prefix=TestData2.0.1</code>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">467</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h3 lo="469" lf="469"><a name="612-contact" number="6.1.2" lo="469" raw="### 6.1.2 contact" class="anchor hanchor" href="#612-contact"><span class="hnumber">6.1.2</span>&nbsp;<span class="htext">contact</span></a></h3>
        <div class="block-info" style="display: none;"><span class="line-numbers">469</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="471" lf="471">This element must not be empty or the server will not start. It should be at minimum the email address of a system administrator.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">471</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h3 lo="473" lf="473"><a name="613-landingfile-and-landingpath" number="6.1.3" lo="473" raw="### 6.1.3 landingFile and landingPath" class="anchor hanchor" href="#613-landingfile-and-landingpath"><span class="hnumber">6.1.3</span>&nbsp;<span class="htext">landingFile and landingPath</span></a></h3>
        <div class="block-info" style="display: none;"><span class="line-numbers">473</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="475" lf="475"><code type="md">landingFile</code> is the file to serve in response to requests for</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">475</span></div>
      </div>
      <div class="block">
        <pre lo="477" lf="479">http://localhost:8999/TestData2.0/hapi</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">477-479</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="481" lf="481">By default, the landing page served is <a href="https://github.com/hapi-server/server-ui/blob/master/single.htm">single.htm</a> from the HAPI server UI codebase. The double underscore variables in this file are replaced using the information in the metadata file (e.g., <code type="md">__CONTACT__</code> is replaced with the <code type="md">server.contact</code> value. A different landing page can be served by setting the <code type="md">landingFile</code> configuration variable, e.g. <code type="md">"landingFile": "$HAPISERVERPATH/public/index.htm"</code>, where <code type="md">$HAPISERVERPATH</code> is described in <a href="#Server_Configuration">Server Configuration</a>. </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">481</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="483" lf="483">If <code type="md">landingFile</code> has local CSS and JS dependencies, set <code type="md">landingPath</code> to be the local directory of the referenced files. Several possible settings are</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">483</span></div>
      </div>
      <div class="block">
        <pre lo="485" lf="490" class="language-javascript"><div class="block"><code lo="486"><span class="hljs-string">"landingFile"</span>: <span class="hljs-string">"$HAPISERVERPATH/index.htm"</span>, </code></div><div class="block"><code lo="487"><span class="hljs-comment">// $HAPISERVERPATH will be replaced with location of hapi-server binary</span></code></div><div class="block"><code lo="488"><span class="hljs-string">"landingPath"</span>: <span class="hljs-string">"/var/www/public/"</span> <span class="hljs-comment">// Location of CSS and JS files</span></code></div><div class="block"><code lo="489"><span class="hljs-comment">// If index.htm has &lt;script src="index.js"&gt;, index.js should be in /var/www/public/</span></code></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">485-490</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="492" lf="492">To serve a directory listing, use</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">492</span></div>
      </div>
      <div class="block">
        <pre lo="494" lf="499" class="language-javascript"><div class="block"><code lo="495"><span class="hljs-string">"landingFile"</span>: <span class="hljs-string">""</span>,</code></div><div class="block"><code lo="496"><span class="hljs-string">"landingPath"</span>: <span class="hljs-string">"/var/www/public/"</span></code></div><div class="block"><code lo="497"><span class="hljs-comment">// Server will look for index.htm and index.html in /var/www/public/. If not</span></code></div><div class="block"><code lo="498"><span class="hljs-comment">// found, directory listing of /var/www/public/ will be served.</span></code></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">494-499</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h3 lo="501" lf="501"><a name="614-catalog-update" number="6.1.4" lo="501" raw="### 6.1.4 catalog-update" class="anchor hanchor" href="#614-catalog-update"><span class="hnumber">6.1.4</span>&nbsp;<span class="htext">catalog-update</span></a></h3>
        <div class="block-info" style="display: none;"><span class="line-numbers">501</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="503" lf="503">This is an integer number of seconds corresponding to how often the <code type="md">catalog</code> node should be updated. Use this if the <code type="md">catalog</code> node is not static.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">503</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="505" lf="505"><a name="62-catalog" number="6.2" lo="505" raw="## 6.2 catalog" class="anchor hanchor" href="#62-catalog"><span class="hnumber">6.2</span>&nbsp;<span class="htext">catalog</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">505</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="507" lf="507">The <code type="md">catalog</code> node can be either a string or an array. </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">507</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="509" lf="509">In the case that it is an array, it should contain either the combined HAPI <code type="md">/catalog</code> and <code type="md">/info</code> response or a <code type="md">/catalog</code> response with references to the <code type="md">\info</code> response.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">509</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="511" lf="511">In the case that it is a string, the string is either a file containing a catalog array or a command-line template that returns a catalog array. </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">511</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h3 lo="513" lf="513" class="highlighted"><a name="621-catalog_inline" number="6.2.1" lo="513" raw="### 6.2.1 `catalog_inline`" class="anchor hanchor" href="#621-catalog_inline"><span class="hnumber">6.2.1</span>&nbsp;<span class="htext"><code type="md">catalog_inline</code></span></a></h3>
        <div class="block-info" style="display: none;"><span class="line-numbers">513</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="515" lf="515">If <code type="md">catalog</code> is an array, it should have the same format as a HAPI <code type="md">/catalog</code> response (each object in the array has an <code type="md">id</code> property and optional <code type="md">title</code> property) <strong type="md">with the addition</strong> of an <code type="md">info</code> property that is the HAPI response for that <code type="md">id</code>, e.g., <code type="md">/info?id=dataset1</code>. </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">515</span></div>
      </div>
      <div class="block">
        <pre lo="517" lf="539" class="language-json"><div class="block"><code lo="518" class="">"catalog_inline":</code><div class="line-number">1</div></div><div class="block"><code lo="519" class="">    [</code><div class="line-number">2</div></div><div class="block"><code lo="520" class="">       {</code><div class="line-number">3</div></div><div class="block"><code lo="521" class="">        "id": "dataset1",</code><div class="line-number">4</div></div><div class="block"><code lo="522" class="">        "title": "a dataset",</code><div class="line-number">5</div></div><div class="block"><code lo="523" class="">        "info": {</code><div class="line-number">6</div></div><div class="block"><code lo="524" class="">          "startDate": "2000-01-01Z",</code><div class="line-number">7</div></div><div class="block"><code lo="525" class="">          "stopDate": "2000-01-02Z",</code><div class="line-number">8</div></div><div class="block"><code lo="526" class="">          "parameters": [...]</code><div class="line-number">9</div></div><div class="block"><code lo="527" class="">        }</code><div class="line-number">10</div></div><div class="block"><code lo="528" class="">      },</code><div class="line-number">11</div></div><div class="block"><code lo="529" class="">      {</code><div class="line-number">12</div></div><div class="block"><code lo="530" class="">        "id": "dataset2",</code><div class="line-number">13</div></div><div class="block"><code lo="531" class="">        "title": "another dataset",</code><div class="line-number">14</div></div><div class="block"><code lo="532" class="">        "info": {</code><div class="line-number">15</div></div><div class="block"><code lo="533" class="">         "startDate": "2000-01-01Z",</code><div class="line-number">16</div></div><div class="block"><code lo="534" class="">         "stopDate": "2000-01-02Z",</code><div class="line-number">17</div></div><div class="block"><code lo="535" class="">         "parameters": [...]</code><div class="line-number">18</div></div><div class="block"><code lo="536" class="">       }</code><div class="line-number">19</div></div><div class="block"><code lo="537" class="">     }</code><div class="line-number">20</div></div><div class="block"><code lo="538" class="">    ]</code><div class="line-number">21</div></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">517-539</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="541" lf="541">In the following subsections, this type of JSON structure is referred to as a <strong type="md">fully resolved catalog</strong>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">541</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="543" lf="543">Examples of this type of catalog include</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">543</span></div>
      </div>
      <div class="block">
        <ul lo="545" lf="546" class="compact">
          <li markerlength="2" padlength="0" lo="545" lf="545" class="">
            <div class="block">
              <p padlength="0" lo="545" lf="545" class=""><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example1.json">Example1.json</a></p>
              <div class="block-info" style="display: none;"><span class="line-numbers">545</span></div>
            </div>
          </li>
          <li markerlength="2" padlength="0" lo="546" lf="548" class="">
            <div class="block">
              <p padlength="0" lo="546" lf="546" class=""><a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/TestData2.0.json">TestData2.0.json</a></p>
              <div class="block-info" style="display: none;"><span class="line-numbers">546</span></div>
            </div>
          </li>
        </ul>
        <div class="block-info" style="display: none;"><span class="line-numbers">545-546</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="548" lf="548" class="">The <code type="md">info</code> value can be one of <code type="md">info_inline</code>, <code type="md">info_file</code>, <code type="md">info_url</code>, or <code type="md">info_command</code>. (<code type="md">info</code> is treated the same as <code type="md">info_inline</code>).</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">548</span></div>
      </div>
      <div class="block">
        <pre lo="550" lf="564" class="language-json"><div class="block"><code lo="551" class="">"catalog_inline": </code><div class="line-number">1</div></div><div class="block"><code lo="552" class="">  [</code><div class="line-number">2</div></div><div class="block"><code lo="553" class="">     {</code><div class="line-number">3</div></div><div class="block"><code lo="554" class="">       "id": "dataset1",</code><div class="line-number">4</div></div><div class="block"><code lo="555" class="">       "title": "a dataset",</code><div class="line-number">5</div></div><div class="block"><code lo="556" class="">       "info_file": "relativepath/to/dataset2/info_file.json"</code><div class="line-number">6</div></div><div class="block"><code lo="557" class="">      },</code><div class="line-number">7</div></div><div class="block"><code lo="558" class="">      {</code><div class="line-number">8</div></div><div class="block"><code lo="559" class="">        "id": "dataset2",</code><div class="line-number">9</div></div><div class="block"><code lo="560" class="">        "title": "another dataset",</code><div class="line-number">10</div></div><div class="block"><code lo="561" class="">        "info_file": "/absolutepath/to/dataset2/info_file.json"</code><div class="line-number">11</div></div><div class="block"><code lo="562" class="">      }</code><div class="line-number">12</div></div><div class="block"><code lo="563" class="active">    ]</code><div class="line-number">13</div></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">550-564</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="565" lf="565">Relative paths are relative to the location of the directory of <code type="md">server.js</code>. See also <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example3.json">Example3.json</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">566</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="567" lf="567">Alternatively, the metadata for each dataset may be produced by the execution of a command-line program for each dataset. For example, in the following, <code type="md">program1</code> should result in a HAPI JSON response from <code type="md">/info?id=dataset1</code> to <code type="md">stdout</code>. Before execution, the string <code type="md">${id}</code>, if found, is replaced with the requested dataset ID. Execution of <code type="md">program2</code> should produce the HAPI JSON corresponding to the query <code type="md">/info?id=dataset2</code>. </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">568</span></div>
      </div>
      <div class="block">
        <pre lo="569" lf="583" class="language-json"><div class="block"><code lo="570" lf="570">"catalog":</code><div class="line-number">1</div></div><div class="block"><code lo="571" lf="571">    [</code><div class="line-number">2</div></div><div class="block"><code lo="572" lf="572">        {</code><div class="line-number">3</div></div><div class="block"><code lo="573" lf="573">            "id": "dataset1",</code><div class="line-number">4</div></div><div class="block"><code lo="574" lf="574">            "title": "a dataset",</code><div class="line-number">5</div></div><div class="block"><code lo="575" lf="575">            "info": "bin/program --id ${id}" </code><div class="line-number">6</div></div><div class="block"><code lo="576" lf="576">        },</code><div class="line-number">7</div></div><div class="block"><code lo="577" lf="577">        {</code><div class="line-number">8</div></div><div class="block"><code lo="578" lf="578">            "id": "dataset2",</code><div class="line-number">9</div></div><div class="block"><code lo="579" lf="579">            "title": "another dataset",</code><div class="line-number">10</div></div><div class="block"><code lo="580" lf="580">            "info": "program2"</code><div class="line-number">11</div></div><div class="block"><code lo="581" lf="581">        }</code><div class="line-number">12</div></div><div class="block"><code lo="582" lf="582">    ]</code><div class="line-number">13</div></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">570-584</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="584" lf="584">See also <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example4.json">Example4.json</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">585</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h3 lo="586" lf="586"><a name="622-6.2.3-references-to-a-command-line-template-or-file" number="6.2.2" lo="586" raw="### 6.2.3 References to a command-line template or file" class="anchor hanchor" href="#622-6.2.3-references-to-a-command-line-template-or-file" lf="586"><span class="hnumber">6.2.3</span>&nbsp;<span class="htext">References to a command-line template or file</span></a></h3>
        <div class="block-info" style="display: none;"><span class="line-numbers">587</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="588" lf="588">The <code type="md">catalog</code> value can be a command-line program that generates a fully resolved catalog, e.g.,</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">589</span></div>
      </div>
      <div class="block">
        <pre lo="590" lf="592" class="language-json">"catalog": "program --arg1 val1 ..."</pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">591-593</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="594" lf="594">The command-line command should return the response of an <code type="md">/info</code> query (with no <code type="md">id</code> argument). </p>
        <div class="block-info" style="display: none;"><span class="line-numbers">595</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="596" lf="596">The path to a fully resolved catalog can also be given. See also <a href="https://github.com/hapi-server/server-nodejs/blob/master/metadata/Example4.json">Example5.json</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">597</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h2 lo="598" lf="598"><a name="63-data" number="6.3" lo="598" raw="## 6.3 data" class="anchor hanchor" href="#63-data" lf="598"><span class="hnumber">6.3</span>&nbsp;<span class="htext">data</span></a></h2>
        <div class="block-info" style="display: none;"><span class="line-numbers">599</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="600" lf="600"><a name="Development"></a></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">601</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h1 lo="601" lf="601"><a name="7-development" number="7" lo="601" raw="# 7 Development" class="anchor hanchor" href="#7-development" lf="601"><span class="hnumber">7</span>&nbsp;<span class="htext">Development</span></a></h1>
        <div class="block-info" style="display: none;"><span class="line-numbers">602</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="603" lf="603">Install <a href="https://nodejs.org/en/download/">nodejs</a> (tested with v8) using either the <a href="https://nodejs.org/en/download/">standard installer</a> or <a href="https://github.com/creationix/nvm#install--update-script">NVM</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">604</span></div>
      </div>
      <div class="block">
        <pre lo="605" lf="613" class="language-bash"><div class="block"><code lo="606" lf="606"><span class="hljs-comment"># Install Node Version Manager</span></code><div class="line-number">1</div></div><div class="block"><code lo="607" lf="607">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash</code><div class="line-number">2</div></div><div class="block"><code lo="608" lf="608"></code><div class="line-number">3</div></div><div class="block"><code lo="609" lf="609"><span class="hljs-comment"># Open a new shell (see displayed instructions from above command)</span></code><div class="line-number">4</div></div><div class="block"><code lo="610" lf="610"></code><div class="line-number">5</div></div><div class="block"><code lo="611" lf="611"><span class="hljs-comment"># Install and use node.js version 8</span></code><div class="line-number">6</div></div><div class="block"><code lo="612" lf="612">nvm install 8</code><div class="line-number">7</div></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">606-614</span></div>
      </div>
      <div class="block">
        <pre lo="616" lf="628" class="language-bash"><div class="block"><code lo="617" lf="617"><span class="hljs-comment"># Clone the server repository</span></code><div class="line-number">1</div></div><div class="block"><code lo="618" lf="618">git <span class="hljs-built_in">clone</span> https://github.com/hapi-server/server-nodejs</code><div class="line-number">2</div></div><div class="block"><code lo="619" lf="619"></code><div class="line-number">3</div></div><div class="block"><code lo="620" lf="620"><span class="hljs-comment"># Install dependencies</span></code><div class="line-number">4</div></div><div class="block"><code lo="621" lf="621"><span class="hljs-built_in">cd</span> server-nodejs; npm install</code><div class="line-number">5</div></div><div class="block"><code lo="622" lf="622"></code><div class="line-number">6</div></div><div class="block"><code lo="623" lf="623"><span class="hljs-comment"># Start server</span></code><div class="line-number">7</div></div><div class="block"><code lo="624" lf="624">node server.js</code><div class="line-number">8</div></div><div class="block"><code lo="625" lf="625"></code><div class="line-number">9</div></div><div class="block"><code lo="626" lf="626"><span class="hljs-comment"># Run tests; Python 2.7+ required for certain tests.</span></code><div class="line-number">10</div></div><div class="block"><code lo="627" lf="627">npm <span class="hljs-built_in">test</span></code><div class="line-number">11</div></div></pre>
        <div class="block-info" style="display: none;"><span class="line-numbers">617-629</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="630" lf="630"><a name="Contact"></a></p>
        <div class="block-info" style="display: none;"><span class="line-numbers">631</span></div>
      </div>
    </div>
    <div class="section">
      <div class="block">
        <h1 lo="631" lf="631"><a name="8-contact" number="8" lo="631" raw="# 8 Contact" class="anchor hanchor" href="#8-contact" lf="631"><span class="hnumber">8</span>&nbsp;<span class="htext">Contact</span></a></h1>
        <div class="block-info" style="display: none;"><span class="line-numbers">632</span></div>
      </div>
      <div class="block">
        <p padlength="0" lo="633" lf="633">Please submit questions, bug reports, and feature requests to the <a href="https://github.com/hapi-server/server-nodejs/issues">issue tracker</a>.</p>
        <div class="block-info" style="display: none;"><span class="line-numbers">634</span></div>
      </div>
    </div>
  </div>
</body>

</html>